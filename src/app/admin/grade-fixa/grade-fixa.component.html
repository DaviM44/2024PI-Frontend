<app-navbar></app-navbar>
<div class="grade-fixa-container container mt-3">
  <h2 class="text-center mb-4">Horário das Aulas</h2>

  <!-- Filtro de Seleção por Curso -->
  <div class="filter-container mb-3">
    <label for="courseSelect">Escolha um Curso:</label>
    <select id="courseSelect" [(ngModel)]="searchTerm" class="form-control">
      <option value="">Selecione um curso</option>
      <option *ngFor="let course of courses" [value]="course.courseName">{{ course.courseName }}</option>
    </select>
  </div>

  <!-- A tabela de horários será exibida apenas se searchTerm (curso) não estiver vazio -->
  <div *ngIf="searchTerm">
    <table class="table table-bordered text-center">
      <thead>
        <tr>
          <th>Horário</th>
          <th>Segunda-feira</th>
          <th>Terça-feira</th>
          <th>Quarta-feira</th>
          <th>Quinta-feira</th>
          <th>Sexta-feira</th>
          <th>Ações</th> <!-- Adicionei a coluna para ações -->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let time of times">
          <td>{{ time.startTime }} - {{ time.endTime }}</td>
          <td *ngFor="let day of ['Segunda-feira', 'Terça-feira', 'Quarta-feira', 'Quinta-feira', 'Sexta-feira']">
            <div *ngFor="let schedule of schedules | dayFilter:day | timeFilter:{ start: time.startTime, end: time.endTime }">
              <strong>{{ schedule.subject }}</strong><br />
              <span>{{ schedule.teacher }}</span><br />
              <p>{{ schedule.room }}</p>
              <button class="btn btn-danger btn-sm "  (click)="deleteSchedule(schedule.scheduleId)">
            x
              </button>
              
            </div>
          </td>
          <td>
            <!-- Botão para excluir -->
            
          </td>
        </tr>
      </tbody>
    </table>
    <button class="btn btn-success col-md-12" routerLink="/admin/cadastrar_horarios">Cadastrar Nova Disciplina</button>
  </div>
</div>
